<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ä¼ç”»æ›¸ã€‘ç¬¬ä¸€å›ãƒ»ç‰¡è £ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¸ã®é“ in é–¢è¥¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Subtle Ocean -->
    <!-- Application Structure Plan: ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã®ãƒã‚¤ã‚¯ãƒ­ã‚µã‚¤ãƒˆå½¢å¼ã‚’æ¡ç”¨ã€‚ä¸Šã‹ã‚‰ä¸‹ã«èª­ã¿é€²ã‚ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ™ãƒ³ãƒˆã®ç›®çš„ã‹ã‚‰è©³ç´°ã€å‚åŠ è€…ã®ç¢ºèªã€å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæ—¥ç¨‹èª¿æ•´ï¼‰ã¾ã§ãŒå®Œçµã™ã‚‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼æ€§ã®ã‚ã‚‹æ§‹æˆã€‚é™çš„ãªæƒ…å ±ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚«ãƒ¼ãƒ‰ã‚„ãƒãƒ£ãƒ¼ãƒˆã«å¤‰æ›ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚’å¼•ãã¤ã‘ã€èƒ½å‹•çš„ãªæƒ…å ±åé›†ã‚’ä¿ƒã™ã€‚ç‰¹ã«å ´æ‰€ã®é¸æŠã¯ã€å˜ãªã‚‹æ¯”è¼ƒè¡¨ã§ã¯ãªãã€è¦–è¦šçš„ãªã‚«ãƒ¼ãƒ‰ã¨ã€Œã„ã„ã­ï¼ã€æ©Ÿèƒ½ã§ã‚²ãƒ¼ãƒ æ„Ÿè¦šã§æ¤œè¨ã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å‚åŠ ã¸ã®æœŸå¾…æ„Ÿã‚’é«˜ã‚ã‚‹ã“ã¨ã‚’ç‹™ã†ã€‚ -->
    <!-- Visualization & Content Choices: 
        - ç›®çš„: ãƒ†ã‚­ã‚¹ãƒˆ -> ã‚´ãƒ¼ãƒ« -> ã‚¢ã‚¤ã‚³ãƒ³ä»˜ããƒªã‚¹ãƒˆ -> JS/HTML -> ç›®çš„ã‚’ç°¡æ½”ã«è¦–è¦šåŒ–ã—ã€ä¸€ç›®ã§ç†è§£ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã€‚
        - å ´æ‰€å€™è£œ: ãƒ†ãƒ¼ãƒ–ãƒ« -> æ¯”è¼ƒãƒ»æ¤œè¨ -> ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚«ãƒ¼ãƒ‰ï¼ˆã„ã„ã­ï¼æ©Ÿèƒ½ä»˜ãï¼‰ -> JS/HTML -> å„å€™è£œã®é­…åŠ›ã‚’å¼•ãå‡ºã—ã€å‚åŠ è€…ã®å¥½ã¿ã‚’å¯è¦–åŒ–ã—ã¦ç››ã‚Šä¸Šã’ã‚‹ãŸã‚ã€‚é™çš„ãªè¡¨ã‚ˆã‚Šã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãŒé«˜ã„ã€‚
        - äºˆç®—: æ•°å€¤ãƒªã‚¹ãƒˆ -> æ¯”è¼ƒ -> æ£’ã‚°ãƒ©ãƒ• -> Chart.js -> å„å€™è£œã®ã‚³ã‚¹ãƒˆæ„Ÿã‚’ç›´æ„Ÿçš„ã«æ¯”è¼ƒå¯èƒ½ã«ã™ã‚‹ãŸã‚ã€‚
        - æ—¥ç¨‹èª¿æ•´: ãƒªãƒ³ã‚¯ -> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å–šèµ· -> ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒãƒ¼ä»˜ãCTA -> JS/HTML -> ç· åˆ‡ã‚’æ„è­˜ã•ã›ã€è¿…é€Ÿãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¿ƒã™ãŸã‚ã€‚
        - ã‚¢ã‚¸ã‚§ãƒ³ãƒ€: ãƒ†ãƒ¼ãƒ–ãƒ« -> æ™‚ç³»åˆ—ç†è§£ -> ç¸¦å‹ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -> HTML/CSS -> ã‚¤ãƒ™ãƒ³ãƒˆã®æµã‚Œã‚’æ™‚ç³»åˆ—ã§åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¾ã™ã‚‹ãŸã‚ã€‚
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #FDFBF6;
            color: #1a202c;
        }
        .hero-oyster {
            font-size: 5rem;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-30px);
            }
            60% {
                transform: translateY(-15px);
            }
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        .card-flip {
            perspective: 1000px;
        }
        .card-flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card-flip:hover .card-flip-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 0.75rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        .card-back {
            transform: rotateY(180deg);
            background-color: #4A5568;
            color: white;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-12">
            <div class="hero-oyster mb-4">ğŸ¦ª</div>
            <h1 class="text-3xl md:text-5xl font-bold text-gray-800 mb-2">ç¬¬ä¸€å›ãƒ»ç‰¡è £ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¸ã®é“</h1>
            <p class="text-lg text-gray-600">é–¢è¥¿æ‹ ç‚¹ å…¼ KAGæœ‰å¿— ç‰¡è £ãƒ‰ãƒ¡ã‚¤ãƒ³æƒ…å ±åé›†ä¼š</p>
        </header>

        <main>
            <section id="purpose" class="mb-16 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-6">ğŸš€ ä¿ºãŸã¡ã®æˆ¦ã„ã¯ã“ã‚Œã‹ã‚‰ã ï¼ç›®çš„ã‚’ç¢ºèªã›ã‚ˆï¼</h2>
                <p class="text-center text-gray-700 max-w-3xl mx-auto mb-8">
                    çµ¶è³›é€²è¡Œä¸­ã®ã€Œç‰¡è £é¤Šæ®–ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºæ¡ˆä»¶ã€æˆåŠŸã®ãŸã‚ã€æˆ‘ã€…ã¯ç‰¡è £ã‚’çŸ¥ã‚Šã€ãƒãƒ¼ãƒ ã®çµ†ã‚’æ·±ã‚ã€é–‹ç™ºã¸ã®æƒ…ç†±ã‚’ç‡ƒã‚„ã™å¿…è¦ãŒã‚ã‚‹ï¼ã“ã®ä¼šã‚’é€šã˜ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã€Œã“ã®äººãŸã¡ã€ã‚¬ãƒã â€¦ã€ã¨æ€ã‚ã›ã‚‹æœ€å¼·ã®ãƒãƒ¼ãƒ ã«ãªã‚ã†ï¼
                </p>
                <div class="grid md:grid-cols-3 gap-6 text-center">
                    <div class="bg-amber-50 p-6 rounded-lg">
                        <div class="text-4xl mb-2">ğŸ“</div>
                        <h3 class="font-bold text-lg">ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã®ç¿’å¾—</h3>
                        <p class="text-sm text-gray-600">äº”æ„Ÿã§ç‰¡è £ã‚’å­¦ã³å°½ãã™</p>
                    </div>
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <div class="text-4xl mb-2">ğŸ¤</div>
                        <h3 class="font-bold text-lg">ãƒãƒ¼ãƒ ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°</h3>
                        <p class="text-sm text-gray-600">ç¾å‘³ã—ã„ã¯æ­£ç¾©ã€‚çµæŸã‚’å›ºã‚ã‚‹</p>
                    </div>
                    <div class="bg-red-50 p-6 rounded-lg">
                        <div class="text-4xl mb-2">ğŸ”¥</div>
                        <h3 class="font-bold text-lg">ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‘ä¸Š</h3>
                        <p class="text-sm text-gray-600">ç‰¡è £ã®é­…åŠ›ãŒé–‹ç™ºã®ã‚¬ã‚½ãƒªãƒ³</p>
                    </div>
                </div>
            </section>

            <section id="details" class="mb-16">
                <h2 class="text-2xl font-bold text-center mb-8">ğŸ“… é–‹å‚¬æ¦‚è¦ï¼šã„ã–ã€ç‰¡è £ã®å¾…ã¤å ´æ‰€ã¸ï¼</h2>

                <div class="bg-white p-8 rounded-xl shadow-lg mb-12 text-center">
                    <h3 class="text-xl font-bold mb-2">ğŸ—“ï¸ æ—¥ç¨‹èª¿æ•´ã®ãŠé¡˜ã„</h3>
                    <p class="mb-4">äºˆç´„ã®ãŸã‚ã€ä»¥ä¸‹ã®èª¿æ•´ã•ã‚“ã¸ã®å…¥åŠ›ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼</p>
                    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md mb-4 inline-block">
                        <p class="font-bold">å…¥åŠ›ç· åˆ‡ï¼š<span id="deadline-date"></span></p>
                        <div id="countdown" class="text-2xl font-mono"></div>
                    </div>
                    <div>
                        <a href="https://chouseisan.com/s?h=3998f38436864a53906b612080c1d6de" target="_blank" class="inline-block bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105">
                            èª¿æ•´ã•ã‚“ã¸GOï¼
                        </a>
                    </div>
                </div>

                <div class="mb-12">
                    <h3 class="text-xl font-bold text-center mb-6">ğŸ“ å ´æ‰€å€™è£œï¼šé‹å‘½ã®åå­—è·¯</h3>
                     <p class="text-center text-gray-600 mb-8">å„ã‚«ãƒ¼ãƒ‰ã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’åˆã‚ã›ã‚‹ã¨è©³ç´°ãŒã€ã„ã„ã­ï¼ãƒœã‚¿ãƒ³ã§æ¨ã—ã‚’è¡¨æ˜ã§ãã¾ã™ã€‚</p>
                    <div id="location-cards" class="grid md:grid-cols-3 gap-8">
                    </div>
                </div>
                 <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-xl font-bold text-center mb-6">ğŸ’° äºˆç®—æ¯”è¼ƒãƒãƒ£ãƒ¼ãƒˆ</h3>
                    <p class="text-center text-gray-600 mb-4">ãŠåº—é¸ã³ã®å‚è€ƒã«ï¼å„å€™è£œã®ãŠãŠã‚ˆãã®äºˆç®—æ„Ÿã§ã™ã€‚</p>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="agenda" class="mb-16">
                <h2 class="text-2xl font-bold text-center mb-8">ğŸ“ å½“æ—¥ã®ä½œæˆ¦ï¼ˆã‚¢ã‚¸ã‚§ãƒ³ãƒ€æ¡ˆï¼‰</h2>
                 <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">
                    ãŸã é£Ÿã¹ã‚‹ã ã‘ã˜ã‚ƒãªã„ã€‚æˆ‘ã€…ã¯å­¦ã³ã€èªã‚Šã€æœªæ¥ã‚’å‰µã‚‹ã®ã ï¼
                </p>
                <div class="max-w-3xl mx-auto">
                    <div id="agenda-timeline" class="relative border-l-2 border-blue-200">
                    </div>
                </div>
            </section>

            <section id="participants" class="mb-16 text-center">
                <h2 class="text-2xl font-bold text-center mb-6">ğŸ‘¥ å‚æˆ¦äºˆå®šã®çŒ›è€…ãŸã¡</h2>
                <div id="participant-list" class="flex flex-wrap justify-center gap-4 max-w-4xl mx-auto">
                </div>
                 <p class="mt-6 text-gray-600 font-bold">ãã®ä»–ã€ç‰¡è £ã«èˆˆå‘³ã®ã‚ã‚‹é–¢è¥¿æ‹ ç‚¹ï¼†KAGã®çš†ã•ã‚“ï¼</p>
            </section>

             <section id="todo" class="text-center bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-6">âœ… æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
                 <p class="text-center text-gray-700 max-w-3xl mx-auto mb-8">
                    ã‚¤ãƒ™ãƒ³ãƒˆæˆåŠŸã¯å›ã®ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã«ã‹ã‹ã£ã¦ã„ã‚‹ï¼
                </p>
                <ul class="list-none space-y-4 inline-block text-left">
                    <li class="flex items-center">
                        <span class="mr-3 text-2xl">ğŸ’¬</span>
                        <div>
                           <a href="https://kddi-agile.slack.com/archives/C075LCBP7BJ/p1750730018394279?thread_ts=1750391935.074549&cid=C075LCBP7BJ" target="_blank" class="font-bold text-blue-600 hover:underline">
                               ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãŠå•ã„åˆã‚ã›ã¯ã“ã¡ã‚‰ (Slack)
                           </a><br>
                           <span class="text-sm text-gray-600">ã”æ„è¦‹ãƒ»ã”è³ªå•ã€ãªã‚“ã§ã‚‚ã©ã†ãï¼</span>
                        </div>
                    </li>
                    <li class="flex items-center">
                         <span class="mr-3 text-2xl">ğŸ—“ï¸</span>
                        <div>
                           <span class="font-bold">èª¿æ•´ã•ã‚“ã«å…¥åŠ›ï¼</span><br>
                           <span class="text-sm text-red-600 font-bold">ã€âš ï¸6/30(æ—¥) 12:00ã¾ã§ã«ã”å…¥åŠ›ãã ã•ã„ï¼ã€‘</span>
                        </div>
                    </li>
                    <li class="flex items-center">
                         <span class="mr-3 text-2xl">ğŸ“</span>
                        <div>
                           <span class="font-bold">ãŠåº—ã®äºˆç´„</span><br>
                            <span class="text-sm text-gray-600">ï¼ˆå‚åŠ çŠ¶æ³ã‚’è¦‹ã¦å¹¹äº‹: ä¸­è¥¿ã•ã‚“ãŒå‹•ãã¾ã™ï¼‰</span>
                        </div>
                    </li>
                </ul>
            </section>
        </main>

        <footer class="text-center mt-16 pt-8 border-t">
            <p class="text-gray-600">ã•ã‚ã€çš†ã•ã‚“ã§ç‰¡è £ã®å¥¥æ·±ã„ä¸–ç•Œã«ãƒ€ã‚¤ãƒ–ã—ã€æ¡ˆä»¶ã‚’æˆåŠŸã«å°ãã¾ã—ã‚‡ã†ï¼</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const locations = [
        { 
            name: "A. ã‚ªã‚¤ã‚¹ã‚¿ãƒ¼ãƒã‚¦ã‚¹ KITTEå¤§é˜ªåº—", 
            description: "ãŠã—ã‚ƒã‚Œãªã‚ªã‚¤ã‚¹ã‚¿ãƒ¼ãƒãƒ¼",
            merit: "è±Šå¯Œãªç¨®é¡ã®ç”Ÿç‰¡è £ã‚’é£Ÿã¹æ¯”ã¹ã§ãã‚‹ã€‚é›°å›²æ°—ãŒè‰¯ãã€'æ¿ƒã„äººç”ŸçµŒé¨“'ãŒç©ã‚ã‚‹ã‹ã‚‚ï¼Ÿ",
            demerit: "ã¡ã‚‡ã£ã´ã‚ŠãŠå€¤æ®µãŒå¼µã‚‹å¯èƒ½æ€§ã€‚",
            icon: "ğŸ¸",
            color: "bg-purple-600",
            minBudget: 6000,
            maxBudget: 8000
        },
        { 
            name: "B. ã‚«ã‚­å°å±‹ãƒ•ã‚£ãƒ¼ãƒãƒ¼ å¤©æº€åº—",
            description: "ãƒ¯ã‚¤ãƒ¯ã‚¤æ¥½ã—ã‚ã‚‹ç‰¡è £å±…é…’å±‹",
            merit: "ã‚³ã‚¹ãƒ‘ãŒè‰¯ã„ã€‚æ´»æ°—ã‚ã‚‹é›°å›²æ°—ã§ç››ã‚Šä¸ŠãŒã‚Œã‚‹ã€‚",
            demerit: "ç”Ÿç‰¡è £ã®ç¨®é¡ã¯ã‚ªã‚¤ã‚¹ã‚¿ãƒ¼ãƒãƒ¼ã«åŠ£ã‚‹ã‹ã‚‚ã€‚",
            icon: "ğŸ»",
            color: "bg-orange-500",
            minBudget: 4000,
            maxBudget: 6000
        },
        { 
            name: "C. ç”°å°»æ¼æ¸¯ ç‰¡è £å°å±‹",
            description: "æ¼æ¸¯ç›´é€ï¼BBQã‚¹ã‚¿ã‚¤ãƒ«",
            merit: "è‡ªåˆ†ã§ç‰¡è £ã‚’ç„¼ãä½“é¨“ãŒã§ãã‚‹ï¼ˆå‡ºè·ãƒ‰ãƒ¡ã‚¤ãƒ³ç²å¾—ã®ãƒãƒ£ãƒ³ã‚¹ï¼Ÿï¼‰ã€‚åœ§å€’çš„é®®åº¦ï¼",
            demerit: "å¤§é˜ªå¸‚å†…ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå°‘ã—å¤§å¤‰ã€‚ç”Ÿç‰¡è £ã¯ãªã„ã‹ã‚‚ã€‚",
            icon: "ï¿½",
            color: "bg-cyan-600",
            minBudget: 5000,
            maxBudget: 7000
        }
    ];

    const locationCardsContainer = document.getElementById('location-cards');
    locations.forEach((loc, index) => {
        const card = document.createElement('div');
        card.className = 'card-flip h-64';
        card.innerHTML = `
            <div class="card-flip-inner shadow-lg rounded-xl">
                <div class="card-front ${loc.color} text-white">
                    <div class="text-5xl mb-2">${loc.icon}</div>
                    <h4 class="font-bold text-xl text-center">${loc.name}</h4>
                    <p>${loc.description}</p>
                    <p class="text-sm mt-4">(è©³ç´°ã‚’è¦‹ã‚‹ã«ã¯ãƒ›ãƒãƒ¼)</p>
                </div>
                <div class="card-back">
                    <p class="mb-2"><strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ${loc.merit}</p>
                    <p><strong>ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:</strong> ${loc.demerit}</p>
                </div>
            </div>
        `;
        const likeButtonContainer = document.createElement('div');
        likeButtonContainer.className = 'mt-4 text-center';
        likeButtonContainer.innerHTML = `
            <button data-index="${index}" class="like-btn bg-gray-200 hover:bg-red-200 text-gray-800 font-bold py-2 px-4 rounded-full flex items-center justify-center mx-auto transition">
                <span>ã„ã„ã­ï¼</span>
                <span class="ml-2">â¤ï¸</span>
                <span class="like-count ml-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </button>
        `;
        
        const cardContainer = document.createElement('div');
        cardContainer.appendChild(card);
        cardContainer.appendChild(likeButtonContainer);
        locationCardsContainer.appendChild(cardContainer);
    });

    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ã€Œã„ã„ã­ã€ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€
    const likesData = JSON.parse(localStorage.getItem('oysterLikes') || '{}');
    const votedIPs = JSON.parse(localStorage.getItem('oysterVotedIPs') || '{}');

    // IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã™ã‚‹é–¢æ•°ï¼ˆç°¡æ˜“çš„ãªå®Ÿè£…ï¼‰
    async function getClientIP() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            return data.ip;
        } catch (error) {
            // IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå–å¾—ã§ããªã„å ´åˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã‚’ä½¿ç”¨
            return 'local-' + navigator.userAgent + navigator.language;
        }
    }

    // ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã€Œã„ã„ã­ã€æ•°ã‚’è¡¨ç¤º
    document.querySelectorAll('.like-btn').forEach(button => {
        const index = button.getAttribute('data-index');
        const countEl = button.querySelector('.like-count');
        const savedCount = likesData[index] || 0;
        countEl.textContent = savedCount;
        
        if (savedCount > 0) {
            button.classList.add('bg-red-200');
        }
    });

    // ã€Œã„ã„ã­ã€ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    document.querySelectorAll('.like-btn').forEach(button => {
        button.addEventListener('click', async () => {
            const index = button.getAttribute('data-index');
            const countEl = button.querySelector('.like-count');
            
            // IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—
            const clientIP = await getClientIP();
            
            // ã“ã®IPãŒã™ã§ã«æŠ•ç¥¨æ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯
            if (votedIPs[clientIP] && votedIPs[clientIP].includes(index)) {
                alert('æ—¢ã«ã€Œã„ã„ã­ã€ã‚’æŠ¼ã—ã¦ã„ã¾ã™ï¼');
                return;
            }
            
            // ã€Œã„ã„ã­ã€ã‚«ã‚¦ãƒ³ãƒˆã‚’å¢—ã‚„ã™
            let currentCount = parseInt(countEl.textContent);
            currentCount += 1;
            countEl.textContent = currentCount;
            button.classList.add('bg-red-200');
            
            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
            likesData[index] = currentCount;
            localStorage.setItem('oysterLikes', JSON.stringify(likesData));
            
            // ã“ã®IPã®æŠ•ç¥¨å±¥æ­´ã‚’ä¿å­˜
            if (!votedIPs[clientIP]) {
                votedIPs[clientIP] = [];
            }
            votedIPs[clientIP].push(index);
            localStorage.setItem('oysterVotedIPs', JSON.stringify(votedIPs));
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
            button.style.transform = 'scale(1.1)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 200);
        });
    });

    const agendaItems = [
        { time: "19:00", title: "é–‹ä¼š & ã‚¢ã‚¤ã‚¹ãƒ–ãƒ¬ã‚¤ã‚¯", description: "ã€Œç§ã¨ç‰¡è £ã®å‡ºä¼šã„ã€ã‚’ãƒ†ãƒ¼ãƒã«è‡ªå·±ç´¹ä»‹ã€‚" },
        { time: "19:15", title: "æœ‰è­˜è€…ãƒŸãƒ‹è¬›åº§", description: "æ³‰æœ¬ã•ã‚“ã€ã¾ã™ã®ã•ã‚“ã€å ¤ã•ã‚“ã«ã‚ˆã‚‹ç‰¡è £ã®å¥¥æ·±ã„ä¸–ç•Œã¸ã®èª˜ã„ã€‚" },
        { time: "19:30", title: "å®Ÿé£Ÿ & ãƒ‰ãƒ¡ã‚¤ãƒ³è¨è­°â‘  (ç”Ÿç‰¡è £ç·¨)", description: "ç”£åœ°åˆ¥ã®ç”Ÿç‰¡è £ã‚’é£Ÿã¹æ¯”ã¹ï¼å‘³ã€å¤§ãã•ã€æ®»ã®å½¢çŠ¶ãªã©ã‚’ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã€‚" },
        { time: "20:15", title: "å®Ÿé£Ÿ & ãƒ‰ãƒ¡ã‚¤ãƒ³è¨è­°â‘¡ (åŠ ç†±ç‰¡è £ç·¨)", description: "ç„¼ãã€è’¸ã—ã€ãƒ•ãƒ©ã‚¤ãªã©èª¿ç†æ³•ã«ã‚ˆã‚‹å¤‰åŒ–ã‚’ä½“é¨“ã€‚AIå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®è¦³ç‚¹ã§ã‚‚è¦³å¯Ÿã€‚" },
        { time: "21:00", title: "ãƒ•ãƒªãƒ¼ãƒˆãƒ¼ã‚¯ & æ¬¡å›å±•æœ›", description: "ã€Œæˆ‘ã€…ã®ã‚·ã‚¹ãƒ†ãƒ ãŒã“ã®ç‰¡è £æ¥­ç•Œã‚’ã©ã†å¤‰ãˆã‚‹ã‹ã€ã‚’ç†±ãèªã‚‹ã€‚" },
        { time: "21:30", title: "ä¸­ç· ã‚", description: "ä¸­è¥¿ã‚ˆã‚Šã€ç²å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã®ã¾ã¨ã‚ã¨æ„Ÿè¬ã®è¨€è‘‰ã€‚" },
    ];

    const agendaTimelineContainer = document.getElementById('agenda-timeline');
    agendaItems.forEach((item, index) => {
        const itemEl = document.createElement('div');
        itemEl.className = 'mb-8 ml-6';
        itemEl.innerHTML = `
            <span class="absolute flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -left-3 ring-8 ring-white">
                <svg class="w-3 h-3 text-blue-800" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg>
            </span>
            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <time class="text-sm font-semibold text-gray-500">${item.time}</time>
                <h3 class="text-lg font-bold text-gray-900 mt-1">${item.title}</h3>
                <p class="text-base font-normal text-gray-600">${item.description}</p>
            </div>
        `;
        agendaTimelineContainer.appendChild(itemEl);
    });

    const participants = [
        "fu-nakanishiï¼ˆä¸­è¥¿æ¥“ä¸€éƒï¼‰", "yuki izumoto å¸«åŒ ", "ã¾ã™ã® å¸«åŒ ", "å ¤ ç¥æ¬¡æœ— å¸«åŒ ", 
        "SUEMITSU Kazuki å¸«åŒ ", "ã“ãã‚Œ ã•ã‚“", "Takeshi Kobayashi ã•ã‚“", "Yu Otsubo ã•ã‚“",
        "kenpi / kawahara ã•ã‚“", "çŸ³åŸ æ±å¸† ã•ã‚“"
    ];
    const participantListContainer = document.getElementById('participant-list');
    participants.forEach(p => {
        const pEl = document.createElement('div');
        pEl.className = 'bg-white shadow px-4 py-2 rounded-full text-gray-700';
        pEl.textContent = p;
        participantListContainer.appendChild(pEl);
    });

    const deadline = new Date('2025-06-30T12:00:00');
    document.getElementById('deadline-date').textContent = `${deadline.getMonth() + 1}/${deadline.getDate()}(æ—¥) ${deadline.getHours()}:00`;

    const countdownEl = document.getElementById('countdown');
    function updateCountdown() {
        const now = new Date();
        const diff = deadline - now;

        if (diff <= 0) {
            countdownEl.innerHTML = "ç· åˆ‡ã§ã™ï¼";
            return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        countdownEl.innerHTML = `${d}æ—¥ ${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    const ctx = document.getElementById('budgetChart').getContext('2d');
    const budgetChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: locations.map(l => l.name),
            datasets: [{
                label: 'æœ€ä½äºˆç®— (å††)',
                data: locations.map(l => l.minBudget),
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            },
            {
                label: 'æœ€é«˜äºˆç®— (å††)',
                data: locations.map(l => l.maxBudget),
                backgroundColor: 'rgba(255, 99, 132, 0.6)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        callback: function(value, index, values) {
                            return value.toLocaleString() + 'å††';
                        }
                    }
                },
                x: {
                    ticks: {
                       callback: function(value, index, values) {
                            const label = this.getLabelForValue(value);
                            if (label.length > 16) {
                                return label.substring(0, 16) + '...';
                            }
                            return label;
                        }
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y.toLocaleString() + 'å††';
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });
});
</script>
</body>
</html>